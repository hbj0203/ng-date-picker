<!doctype html>
<html ng-app="demo" ng-strict-di>

<head>
    <meta charset="utf-8">
    <title>Angular Date Range Picker</title>
    <meta name="description" content="angular, directive, daypicker, date, day, daterange, date range picker,
          pure angular, day-picker, range-select, calendar, picker, date-range-picker, moment">
    <meta name="viewport" content="width=device-width">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <!-- build:css({.tmp/serve,src}) styles/vendor.css -->
    <!-- bower:css -->
    <!-- run `gulp inject` to automatically populate bower styles dependencies -->
    <!-- endbower -->
    <!-- endbuild -->
    <!-- build:css({.tmp/serve,src}) styles/ngDatetimeRangePicker.css -->
    <!-- inject:css -->
    <!-- css files will be automatically insert here -->
    <!-- endinject -->
    <!-- endbuild -->

    <style type="text/css">
        #test-picker-ctn{
            position: fixed;
            width: 600px;
            height: 600px;
            overflow: hidden;
            background-color: #fea;
            left: 100px;
            top: 100px;
        }
        #test-picker{
         /*   position: absolute;
            left: 50%;
            top:20%;*/
            margin: 60px 40px;
        }
    </style>
</head>

<body>
    <!--[if lt IE 9]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    <!-- build:js(src) scripts/vendor.js -->
    <!-- bower:js -->
    <!-- run `gulp inject` to automatically populate bower script dependencies -->
    <!-- endbower -->
    <!-- endbuild -->
    <!-- build:js({.tmp/serve,.tmp/partials}) scripts/ngDatetimeRangePicker.js -->
    <!-- inject:js -->
    <!-- js files will be automatically insert here -->
    <!-- endinject -->
    <!-- inject:partials -->
    <!-- angular templates will be automatically converted in js and inserted here -->
    <!-- endinject -->
    <!-- endbuild -->
    <div id="test-picker-ctn" ng-controller="RangeController as rctrl">
        <!-- <h1>日期时间组件（ng1.x）</h1> -->
        <h2>{{rctrl.dateConf.value.start.format("YYYY-MM-DD HH:mm:ss")}} - {{rctrl.dateConf.value.end.format("YYYY-MM-DD HH:mm:ss")}}</h2>
        <ng-date-picker 
          id="test-picker"
          style="width: 280px;" 
          value="rctrl.dateConf.value" 
          format="{{rctrl.dateConf.format}}" 
          placeholder="{{rctrl.dateConf.placeholder}}" 
          options="rctrl.dateConf.options"
          on-ok="rctrl.okFunc()"
          on-clear="rctrl.clearFunc()"
          on-change="rctrl.changeFunc()"
          is-global="rctrl.dateConf.isGlobal"
          pos="cover-right"></ng-date-picker>
    </div>
    <script>
    angular.module('demo', ['ngDatetimeRangePicker'])
        .controller('RangeController', RangeCtrl);

    function RangeCtrl() {
        var vm = this;
        this.okFunc = function(){
            console.log('okkkkkkkkkk');
        }
        this.clearFunc = function(){
            console.log('clearrrrrrr');
        }
        this.changeFunc = function(){
            console.log('changeeeeee');
        }
        this.dateConf = {
            isGlobal: true,
            value: {
                start: moment(),
                end: moment().month(11).add(1, 'y').add(2, 'd').add(13, 'h').add(2, 'm').add(3, 's')
            },
            format: 'YYYY-MM-DD HH:mm:ss',
            placeholder: '请选择日期范围',
            options: [{
                    name: '今天',
                    start: moment().startOf('day'),
                    end: moment().endOf('day')
                },
                {
                    name: '昨天',
                    start: moment(),
                    end: moment().subtract(1, 'd')
                },
                {
                    name: '当前月',
                    start: moment().startOf('month'),
                    end: moment()
                },
                {
                    name: '一年又两个月',
                    start: moment().subtract(1, 'M'),
                    end: moment().add(1, 'y').add(1, 'M')
                }
            ]
        };
    }

    </script>
</body>

</html>
